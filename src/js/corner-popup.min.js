if ('undefined' == typeof jQuery) throw new Error('Corner Popup requires jQuery');
!(function (l) {
	l.fn.cornerpopup = function (e) {
		var o;
		e = l.extend(
			{
				active: !0,
				displayOnce: !1,
				variant: 1,
				timeOut: 0,
				delay: 0,
				slide: !1,
				slideTop: !1,
				closeBtn: !0,
				shadow: !0,
				escClose: !1,
				stickToBottom: !1,
				topCorner: !1,
				loadContent: !1,
				link1: 'https://wp.pl, _self',
				link2: '#, _self',
				popupImg: 'img/img-1.png',
				cookieImg: 'img/cookie.png',
				messageImg: 'img/icon-3.png',
				header: 'Corner Popup',
				text1:
					'This website uses cookies to ensure you get the best experience on our website. <a href="http://www.allaboutcookies.org" target="_blank" class="cookie-more">More information.</a>',
				text2: 'This is just a sample text. Feel free to change it to your own using proper parameter.',
				button1: 'more',
				button2: 'Got it',
				button3: 'OK',
				content: 'Your own html here.',
				width: '390px',
				font: "'Open Sans', 'Halvetica', sans-serif",
				colors: '#543189',
				bgColor: '#fff',
				borderColor: '#efefef',
				textColor: '#181818',
				iconColor: '#543189',
				btnColor: '#543189',
				btnTextColor: '#fff',
				corners: '0px',
				padding: 0,
				position: 'right',
				beforePopup: function () {},
				afterPopup: function () {},
				onBtnClick: function () {},
				onCloseBtnClick: function () {},
			},
			e,
		);
		function n(o, e) {
			localStorage.setItem(o, e);
		}
		function t(o) {
			return localStorage.getItem(o);
		}
		function c() {
			e.slide
				? s()
				: l(cp).fadeOut(400, function () {
						l(this).remove(), e.afterPopup.call(this);
				  });
		}
		function s() {
			e.slideTop
				? e.topCorner
					? l(cp).removeClass('slide-bottom').addClass('slide-bottom-rev')
					: l(cp).removeClass('slide-top').addClass('slide-top-rev')
				: e.slide && 'right' == e.position
				? l(cp).removeClass('slide-left').addClass('slide-left-rev')
				: e.slide && 'left' == e.position
				? l(cp).removeClass('slide-right').addClass('slide-right-rev')
				: e.slide &&
				  'center' == e.position &&
				  (e.topCorner
						? l(cp).removeClass('slide-bottom').addClass('slide-bottom-rev')
						: l(cp).removeClass('slide-top').addClass('slide-top-rev')),
				(cpTemp = l(cp)),
				(cpTemp.animation = 'none'),
				cpTemp.offsetHeight,
				(cpTemp.animation = null),
				cpTemp.one('webkitAnimationEnd oanimationend msAnimationEnd animationend', function () {
					cpTemp.remove(), e.afterPopup.call(this);
				});
		}
		function r() {
			n('cp-cookies-accepted', !0), c();
		}
		function i() {
			13 < e.onCloseBtnClick.toString().length && (event.preventDefault(), e.onCloseBtnClick.call(this));
		}
		(cp = '#corner-popup'),
			l(cp).length && (l(cp).remove(), console.info('Corner Popup already initialized')),
			e.active &&
				((!e.displayOnce || (e.displayOnce && null === t('cp-displayed'))) &&
					l('<div/>', { id: 'corner-popup', class: 'popup-xs' }).appendTo('body'),
				'%' == e.width.substr(-1)
					? ((widthPercent = !0), (noPercents = e.width.slice(0, -1)))
					: ((widthPercent = !1),
					  e.width.match(/^\d+$/) ? (noUnit = e.width) : (noUnit = e.width.replace(/\D/g, ''))),
				700 < noUnit || (1 == widthPercent && 50 < noPercents)
					? ((columnOne = 'p-sm-2'), (columnTwo = 'p-sm-10'))
					: 450 < noUnit || (1 == widthPercent && 25 < noPercents)
					? ((columnOne = 'p-sm-3'), (columnTwo = 'p-sm-9'))
					: 1 == e.variant
					? ((columnOne = 'p-sm-6'), (columnTwo = 'p-sm-6'))
					: ((columnOne = 'p-sm-4'), (columnTwo = 'p-sm-8')),
				(e.link1 = e.link1.replace(/\s/g, '').split(',')),
				(e.link2 = e.link2.replace(/\s/g, '').split(',')),
				e.link1[1] || (e.link1[1] = '_self'),
				e.link2[1] || (e.link2[1] = '_self'),
				2 == e.variant
					? null === t('cp-cookies-accepted')
						? (popupContent =
								'<div class="hide-mobile p-col ' +
								columnOne +
								'""><img src="' +
								e.cookieImg +
								'"class="corner-img-cookie responsive"></div><div class="p-col p-xs-12 ' +
								columnTwo +
								'"><div class="corner-close" tabindex="0"></div><div class="corner-container"><p class="corner-text">' +
								e.text1 +
								'</p><a class="corner-btn-cookie" tabindex="0">' +
								e.button2 +
								'</a></div></div>')
						: l(cp).remove()
					: 3 == e.variant
					? (popupContent =
							'<div class="hide-mobile p-col ' +
							columnOne +
							'"><img src="' +
							e.messageImg +
							'"class="corner-img-cookie responsive"></div><div class="p-col p-xs-12 ' +
							columnTwo +
							'"><div class="corner-close" tabindex="0"></div><div class="corner-container"><p class="corner-text">' +
							e.text2 +
							'</p><a href="' +
							e.link2[0] +
							'" class="corner-btn-close" target="' +
							e.link2[1] +
							'">' +
							e.button3 +
							'</a></div></div>')
					: 4 == e.variant
					? (popupContent =
							'<div class="hide-mobile p-col ' +
							columnOne +
							'"><img src="' +
							e.messageImg +
							'"class="corner-img-cookie responsive"></div><div class="p-col p-xs-12 ' +
							columnTwo +
							'"><div class="corner-close" tabindex="0"></div><div class="corner-container-3"><p class="corner-text">' +
							e.text2 +
							'</p></div></div>')
					: 5 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-1"><p class="corner-text">' +
							e.text2 +
							'</p></div></div>')
					: 6 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-2"><p class="corner-text">' +
							e.text2 +
							'</p><a href="' +
							e.link2[0] +
							'" class="corner-btn-close" target="' +
							e.link2[1] +
							'">' +
							e.button3 +
							'</a></div></div>')
					: 7 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-1"><p class="corner-head head-center">' +
							e.header +
							'</p></div></div>')
					: 8 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-1"><p class="corner-head">' +
							e.header +
							'</p><p class="corner-text">' +
							e.text2 +
							'</p></div></div>')
					: 9 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-2"><p class="corner-head">' +
							e.header +
							'</p><p class="corner-text">' +
							e.text2 +
							'</p><a href="' +
							e.link2[0] +
							'" class="corner-btn-close" target="' +
							e.link2[1] +
							'">' +
							e.button3 +
							'</a></div></div>')
					: 10 == e.variant
					? (popupContent =
							'<div class="p-col p-xs-12 p-sm-12"><div class="corner-close" tabindex="0"></div><div class="corner-container-2">' +
							e.content +
							'</div></div>')
					: (popupContent =
							'<div class="hide-mobile p-col ' +
							columnOne +
							'"><a href="' +
							e.link1[0] +
							'"><img src="' +
							e.popupImg +
							'"class="corner-img responsive"></a></div><div class="p-col p-xs-12 ' +
							columnTwo +
							'"><div class="corner-close" tabindex="0"></div><div class="corner-container"><p class="corner-head">' +
							e.header +
							'</p><a href="' +
							e.link1[0] +
							'" class="corner-btn" target="' +
							e.link1[1] +
							'">' +
							e.button1 +
							'</a></div></div>'),
				(function () {
					e.beforePopup.call(this),
						e.slide
							? e.slideTop
								? e.topCorner
									? l(cp).addClass('slide-bottom')
									: l(cp).addClass('slide-top')
								: e.slide && 'right' == e.position
								? l(cp).addClass('slide-left')
								: e.slide && 'left' == e.position
								? l(cp).addClass('slide-right')
								: e.slide &&
								  'center' == e.position &&
								  (e.topCorner ? l(cp).addClass('slide-bottom') : l(cp).addClass('slide-top'))
							: (l(cp).html(popupContent).css('display', 'flex').hide().fadeIn(800),
							  0 != e.delay &&
									(l(cp).hide(),
									setTimeout(function () {
										l(cp).fadeIn(800);
									}, e.delay))),
						l(cp).html(popupContent).css('display', 'flex').show(),
						0 != e.delay &&
							(l(cp).hide(),
							setTimeout(function () {
								l(cp).show();
							}, e.delay));
				})(),
				e.displayOnce ? n('cp-displayed', !0) : localStorage.removeItem('cp-displayed'),
				10 == e.variant && e.loadContent && l('.corner-container-2').load(e.loadContent),
				e.topCorner
					? (l(cp).addClass('corner-top'), (verticalPosition = 'top'))
					: (l(cp).removeClass('corner-top'), (verticalPosition = 'bottom')),
				e.closeBtn ||
					(l('.corner-close').remove(),
					768 < l(window).width() && l(cp).css('right', '70px'),
					l('.corner-container').css({ bottom: '15px', 'padding-top': '30px' }),
					l('.corner-container-1').css({ bottom: '0', 'padding-bottom': '10px', 'padding-top': '20px' }),
					l('.corner-container-2').css({ bottom: '12px', 'padding-top': '30px' })),
				e.shadow || l(cp).css('box-shadow', 'none'),
				'390px' !== e.width && l(cp).css('width', e.width),
				(window.onresize = function () {
					l(window).width() < 768 ? l(cp).css('width', '100%') : l(cp).css('width', e.width);
				}),
				"'Open Sans', 'Halvetica', sans-serif" !== e.font && l(cp).css('font-family', e.font),
				'#543189' !== e.colors &&
					(l('.corner-btn, .corner-btn-cookie, .corner-btn-close').css('background-color', e.colors),
					l('.corner-head, .cookie-more').css('color', e.colors),
					l(cp).after(
						'<style>#corner-popup .corner-close:after{background-color:' +
							e.colors +
							';}\n#corner-popup .corner-close:before{background-color:' +
							e.colors +
							';} </style>',
					)),
				'#fff' !== e.bgColor && l(cp).css('background-color', e.bgColor),
				'#efefef' !== e.borderColor && l(cp).css('border-color', e.borderColor),
				'#181818' !== e.textColor &&
					l('.corner-text, .corner-head, .corner-container').css('color', e.textColor),
				'#543189' !== e.iconColor &&
					(l('body').append('<style></style>'),
					l('style').html(
						'#corner-popup .corner-close:after{background-color:' +
							e.iconColor +
							';}\n#corner-popup .corner-close:before{background-color:' +
							e.iconColor +
							';',
					)),
				'#543189' !== e.btnColor &&
					l('.corner-btn, .corner-btn-close, .corner-btn-cookie').css('background-color', e.btnColor),
				'#fff' !== e.btnTextColor &&
					l('.corner-btn, .corner-btn-close, .corner-btn-cookie').css('color', e.btnTextColor),
				'0px' !== e.corners && l(cp).css('border-radius', e.corners),
				0 !== e.padding &&
					(5 <= e.variant
						? l('.corner-container, .corner-container-1, .corner-container-2, .corner-container-3').css({
								padding: e.padding,
						  })
						: l('.corner-container, .corner-container-1, .corner-container-2, .corner-container-3').css({
								padding: e.padding,
								'padding-left': '0px',
						  }),
					l('.p-col').first().css('padding-left', e.padding)),
				'right' !== e.position &&
					('left' == e.position && 768 < l(window).width()
						? l(cp).css({ right: '0', left: '60px' })
						: l(cp).css({ right: '0', left: '0', margin: '0 auto' })),
				e.stickToBottom &&
					768 < l(window).width() &&
					(l(cp).css(verticalPosition, '0'),
					'right' == e.position
						? l(cp).css({ right: '0' })
						: 'left' == e.position && l(cp).css({ left: '0' })),
				0 !== e.timeOut &&
					((o = e.timeOut),
					setTimeout(function () {
						e.slide
							? s()
							: l(cp).fadeOut(400, function () {
									l(this).remove(), e.afterPopup.call(this);
							  });
					}, o)),
				l('.corner-close').click(function () {
					i(), c();
				}),
				l('.corner-close').keyup(function (o) {
					'Enter' === o.key && (i(), c());
				}),
				l('.corner-btn, .corner-btn-close, .corner-btn-cookie').click(function (o) {
					(elementClassName = l(this).attr('class')),
						13 < e.onBtnClick.toString().length
							? (o.preventDefault(), e.onBtnClick.call(this))
							: 'corner-btn-cookie' == elementClassName
							? r()
							: 'corner-btn-close' == elementClassName && '#' == e.link2[0] && c();
				}),
				l('.corner-btn-cookie').keyup(function (o) {
					'Enter' === o.key && r();
				}),
				l(document).keyup(function (o) {
					e.escClose && 'Escape' === o.key && c();
				}),
				(l.fn.cornerpopup.popupClose = function (o) {
					setTimeout(c, o);
				}),
				(l.fn.cornerpopup.popupHide = function (o) {
					l(cp).delay(o).fadeOut(400);
				}),
				(l.fn.cornerpopup.popupShow = function (o) {
					l(cp).delay(o).fadeIn(800);
				}));
	};
})(jQuery);
